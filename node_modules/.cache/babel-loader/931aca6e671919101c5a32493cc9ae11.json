{"ast":null,"code":"import _regeneratorRuntime from \"/Users/aleksandrstupak/Test-task-Front-end-developer-/node_modules/@babel/runtime/regenerator\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(fetchData),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(watchFetch);\n\nimport { call, put, all, takeEvery } from 'redux-saga/effects';\nimport axios from \"axios\";\nimport { getItems } from '../actions/getItemsAction';\nimport { FETCH_REQUEST } from '../constants';\nexport function fetchData() {\n  var data, newData, obj, resultDate;\n  return _regeneratorRuntime.wrap(function fetchData$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return call(function () {\n            return axios.get(\"http://demo4452328.mockable.io/properties\").then(function (data) {\n              return data.status === 200 ? data.data : [];\n            });\n          });\n\n        case 3:\n          data = _context.sent;\n          // console.log(data.map(el => el.price));\n          // console.log(data.data.map(el => el.price));\n          newData = data.data.map(function (el) {\n            return {\n              id: el.id,\n              full_address: el.full_address,\n              area: el.area,\n              price: el.price,\n              images: el.images\n            };\n          });\n          obj = arr.reduce(function (acc, cur, i) {\n            acc[i] = cur;\n            return acc;\n          }, {});\n          resultDate = newData.reduce(function (acc, el) {\n            return acc.concat(el);\n          }, {});\n          console.log(resultDate);\n          _context.next = 10;\n          return put(getItems(data.data));\n\n        case 10:\n          _context.next = 16;\n          break;\n\n        case 12:\n          _context.prev = 12;\n          _context.t0 = _context[\"catch\"](0);\n          _context.next = 16;\n          return put(function (error) {\n            return console.log(error);\n          });\n\n        case 16:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, this, [[0, 12]]);\n}\nexport default function watchFetch() {\n  return _regeneratorRuntime.wrap(function watchFetch$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return takeEvery(FETCH_REQUEST, fetchData);\n\n        case 2:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, this);\n} //     try {\n//\n//         const [posts, users, comments] = yield all([\n//             call(() => {\n//                 return axios.get(urlPosts)\n//                     .then(data => data.status === 200 ? data.data : [])\n//\n//             }),\n//             call(() => {\n//                 return axios.get(urlUsers)\n//                     .then(data => data.status === 200 ? data.data : [])\n//\n//             }),\n//             call(() => {\n//                 return axios.get(urlComments)\n//                     .then(data => data.status === 200 ? data.data : [])\n//\n//             }),\n//         ]);\n//         yield put(addPost(posts));\n//         yield put(addUsers(users));\n//         yield put(addComments(comments));\n//\n//     }catch (error) {\n//         yield put(() => {console.log('Getting data from server error: ' + error)})\n//     }\n// }\n//\n//","map":{"version":3,"sources":["/Users/aleksandrstupak/Test-task-Front-end-developer-/src/Components/redux/redux-saga/sagas.js"],"names":["fetchData","watchFetch","call","put","all","takeEvery","axios","getItems","FETCH_REQUEST","get","then","data","status","newData","map","el","id","full_address","area","price","images","obj","arr","reduce","acc","cur","i","resultDate","concat","console","log","error"],"mappings":";;;;yBAKiBA,S;;;yBAgCQC,U;;AArCzB,SAASC,IAAT,EAAeC,GAAf,EAAoBC,GAApB,EAAwBC,SAAxB,QAA0C,oBAA1C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,QAAuB,2BAAvB;AACA,SAAQC,aAAR,QAA4B,cAA5B;AAEA,OAAO,SAAUR,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEc,iBAAME,IAAI,CAAC,YAAM;AACtB,mBAAOI,KAAK,CAACG,GAAN,8CACFC,IADE,CACG,UAAAC,IAAI;AAAA,qBAAIA,IAAI,CAACC,MAAL,KAAgB,GAAhB,GAAsBD,IAAI,CAACA,IAA3B,GAAkC,EAAtC;AAAA,aADP,CAAP;AAEH,WAHkB,CAAV;;AAFd;AAEOA,UAAAA,IAFP;AAOC;AACA;AACME,UAAAA,OATP,GASiBF,IAAI,CAACA,IAAL,CAAUG,GAAV,CAAc,UAAAC,EAAE;AAAA,mBAAM;AAElCC,cAAAA,EAAE,EAAED,EAAE,CAACC,EAF2B;AAGlCC,cAAAA,YAAY,EAAEF,EAAE,CAACE,YAHiB;AAIlCC,cAAAA,IAAI,EAAEH,EAAE,CAACG,IAJyB;AAKlCC,cAAAA,KAAK,EAAEJ,EAAE,CAACI,KALwB;AAMlCC,cAAAA,MAAM,EAAEL,EAAE,CAACK;AANuB,aAAN;AAAA,WAAhB,CATjB;AAkBKC,UAAAA,GAlBL,GAkBWC,GAAG,CAACC,MAAJ,CAAW,UAASC,GAAT,EAAcC,GAAd,EAAmBC,CAAnB,EAAsB;AACvCF,YAAAA,GAAG,CAACE,CAAD,CAAH,GAASD,GAAT;AACA,mBAAOD,GAAP;AACD,WAHO,EAGL,EAHK,CAlBX;AAsBOG,UAAAA,UAtBP,GAsBoBd,OAAO,CAACU,MAAR,CAAe,UAACC,GAAD,EAAMT,EAAN;AAAA,mBAAcS,GAAG,CAACI,MAAJ,CAAWb,EAAX,CAAd;AAAA,WAAf,EAA6C,EAA7C,CAtBpB;AAyBCc,UAAAA,OAAO,CAACC,GAAR,CAAYH,UAAZ;AAzBD;AA0BC,iBAAMxB,GAAG,CAACI,QAAQ,CAACI,IAAI,CAACA,IAAN,CAAT,CAAT;;AA1BD;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AA4BC,iBAAMR,GAAG,CAAC,UAAA4B,KAAK;AAAA,mBAAIF,OAAO,CAACC,GAAR,CAAYC,KAAZ,CAAJ;AAAA,WAAN,CAAT;;AA5BD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgCP,eAAe,SAAU9B,UAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACX,iBAAMI,SAAS,CAACG,aAAD,EAAgBR,SAAhB,CAAf;;AADW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,C,CAKf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import { call, put, all,takeEvery, } from 'redux-saga/effects';\nimport axios from \"axios\";\nimport {getItems} from '../actions/getItemsAction';\nimport {FETCH_REQUEST} from '../constants';\n\nexport function* fetchData() {\n    try {\n        const data = yield call(() => {\n                return axios.get(`http://demo4452328.mockable.io/properties`)\n                    .then(data => data.status === 200 ? data.data : [])\n            }\n        );\n        // console.log(data.map(el => el.price));\n        // console.log(data.data.map(el => el.price));\n        const newData = data.data.map(el =>  ({\n            \n            id: el.id,\n            full_address: el.full_address,\n            area: el.area,\n            price: el.price,\n            images: el.images\n\n        }))\n        var obj = arr.reduce(function(acc, cur, i) {\n            acc[i] = cur;\n            return acc;\n          }, {});\n        const resultDate = newData.reduce((acc, el) =>  acc.concat(el), {})\n        \n\n        console.log(resultDate);\n        yield put(getItems(data.data));\n    } catch (error) {\n        yield put(error => console.log(error));\n    }\n}\n\nexport default function* watchFetch() {\n    yield takeEvery(FETCH_REQUEST, fetchData);\n}\n\n\n//     try {\n//\n//         const [posts, users, comments] = yield all([\n//             call(() => {\n//                 return axios.get(urlPosts)\n//                     .then(data => data.status === 200 ? data.data : [])\n//\n//             }),\n//             call(() => {\n//                 return axios.get(urlUsers)\n//                     .then(data => data.status === 200 ? data.data : [])\n//\n//             }),\n//             call(() => {\n//                 return axios.get(urlComments)\n//                     .then(data => data.status === 200 ? data.data : [])\n//\n//             }),\n//         ]);\n//         yield put(addPost(posts));\n//         yield put(addUsers(users));\n//         yield put(addComments(comments));\n//\n//     }catch (error) {\n//         yield put(() => {console.log('Getting data from server error: ' + error)})\n//     }\n// }\n//\n//"]},"metadata":{},"sourceType":"module"}